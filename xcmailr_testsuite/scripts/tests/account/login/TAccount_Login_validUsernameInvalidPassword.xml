<?xml version="1.0" encoding="UTF-8"?>
<testcase xmlns="http://xlt.xceptance.com/xlt-script/2" version="6">
  <description>Test login with  valid username and invalid password

NOTE: XLT-Portal must be run in TestMode (../xltportal/conf/xltportal.properties -&gt; testMode=On) !!!

# Setup and preparation

- Start session, open homepage and delete all visible cookies
- Create new account with profile data
- Click login link in the header and go to the login page

# Scope

- Try to login with a valid username and invalid password
- Validate page title 
- Validate present error message element</description>
  <codecomment># Setup

- Generate email
- Generate password
- Start session</codecomment>
  <codecomment>first name</codecomment>
  <module name="modules.helper.MHelper_Random_addRandomness">
    <parameter name="inputString" value="${defaultRegisterFirstName}"/>
    <parameter name="returned_varString" value="FirstName_varDynamic"/>
  </module>
  <codecomment>last name</codecomment>
  <module name="modules.helper.MHelper_Random_addRandomness">
    <parameter name="inputString" value="${defaultRegisterLastName}"/>
    <parameter name="returned_varString" value="LastName_varDynamic"/>
  </module>
  <codecomment>Street and Number</codecomment>
  <module name="modules.helper.external.FHelper_getEmailAddressFromExternal">
    <parameter name="email_varName" value="email_varDynamic"/>
  </module>
  <codecomment>Password</codecomment>
  <module name="modules.helper.MHelper_Random_createPassword">
    <parameter name="password_varDynamic" value="password_varDynamic"/>
  </module>
  <module name="modules.helper.MHelper_Random_createPassword">
    <parameter name="password_varDynamic" value="password_wrong_varDynamic"/>
  </module>
  <codecomment># Setup

- Start session</codecomment>
  <module name="modules.helper.global.FHelper_Session_flowToStartSession"/>
  <codecomment>create test account</codecomment>
  <codecomment># Scope</codecomment>
  <codecomment>Account

- Register account via header link
- Enter profile data
- Submit profile data
- Validate account page and nav
- Validate customer name
- Logout</codecomment>
  <module name="modules.helper.global.FHelper_Register_createAccount">
    <parameter name="FirstName" value="${FirstName_varDynamic}"/>
    <parameter name="LastName" value="${LastName_varDynamic}"/>
    <parameter name="Email" value="${email_varDynamic}"/>
    <parameter name="Password" value="${password_varDynamic}"/>
    <parameter name="Language" value="${defaultRegisterLanguage}"/>
  </module>
  <module name="modules.helper.global.FHelper_Session_flowToStartSession"/>
  <action name="GoToSignIn"/>
  <module name="modules.global.headerfooternav.MGlobal_Header_clickSignIn"/>
  <action name="TryLogIn"/>
  <module name="modules.pages.account.login.MAccount_Login_enterClickUserLoginData">
    <parameter name="xltusername" value="${email_varDynamic}"/>
    <parameter name="xltpassword" value="${password_wrong_varDynamic}"/>
  </module>
  <module name="modules.pages.account.login.VAccount_Login_validateErrorMsgNoMatch"/>
</testcase>